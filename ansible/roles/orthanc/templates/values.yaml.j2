replicaCount: 1

image:
  repository: "{{ orthanc_image }}"
  pullPolicy: IfNotPresent
  tag: "{{ orthanc_version }}"

imagePullSecrets: []
nameOverride: ''
fullnameOverride: ''

serviceAccount:
  create: true
  automount: true
  annotations: {}
  name: ''

podAnnotations: {}
podLabels: {}

podSecurityContext: {}

securityContext: {}

service:
  type: ClusterIP
  http: 8042
  dicom: {{ orthanc_dicom_port }}

ingress:
  enabled: true
  className: traefik
  annotations:
  hosts:
    - host: 'orthanc.{{ server_hostname }}'
      paths:
        - path: /
          pathType: Prefix

resources: {{ orthanc_resources | to_json }}

livenessProbe:
  tcpSocket:
    port: {{ orthanc_dicom_port }}
readinessProbe:
  tcpSocket:
    port: {{ orthanc_dicom_port }}

autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 100
  targetCPUUtilizationPercentage: 80

volumes:
  - name: orthanc-json
    secret:
      secretName: orthanc-secret
  - name: data
{% if aws_deployment %}
    emptyDir: {}
{% else %}
    hostPath:
      path: '{{ orthanc_dir }}'
{% endif %}

volumeMounts:
  - mountPath: /etc/orthanc
    name: orthanc-json
    readOnly: true
  - name: data
    mountPath: /var/lib/orthanc/db
    readOnly: false
{% if not aws_deployment %}
    mountPropagation: HostToContainer
{% endif %}

nodeSelector: {}

tolerations: []

affinity: {}
